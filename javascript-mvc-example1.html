<!DOCTYPE html>
<html>
<head>
	<title>Javascript MVC Example 1</title>

    <link rel="stylesheet" type="text/css" href="bootstrap.min.css">
    <script type="text/javascript" src="jquery-1.11.0.min.js"></script>
    <style type="text/css">
    .container { margin: auto; padding-top: 50px; }
    .btn { width: 20%;  }
    option { height: 25px; line-height: 25px;}
    </style>
</head>
<body>

<div class="row container">
    <div class="col-xs-4">
        <select id="list" class="form-control" size="10">
            <option>Add Item</option>
        </select>
    </div>
    <div class="col-xs-8">
        <button id="plusBtn" class="btn btn-default btn-block">+</button>
        <button id="minusBtn" class="btn btn-default btn-block">-</button>
    </div>
</div>


<script type="text/javascript">

/** List Model **/

var items = ['Javascript', 'angular'];
function ListModel(items) {
    this._items = items;
    var currentSelectedItem = 0;
}

ListModel.prototype = {
    setData: function(item){
        this._items.push(item);
    },
    getData: function(){
        return this._items;
    },
    selectItem: function(index){
        var data = this.getData();
        data.splice(index, 1)
        return data;
    }
}




/** List View **/

function ListView(model, elements){
    this._model = model;
    this._elements = elements;

}

ListView.prototype = {
    show: function(){
        this.rebuildItems()
         
    },
    rebuildItems: function(){

        var model = this._model.getData(),
            listObj = this._elements.list;

            listObj.html('')
          
        for(key in model){
            listObj.append('<option>'+model[key]+'</option>')
        }
    }
}


/** List Controller **/

function ListController(model, view){
    this._model = model;
    this._view = view;
    var that = this;

    this._view._elements.addBtn.click(function(){
       that.addItems();
    });

    this._view._elements.list.change(function(){
        var selectedIndex = this.selectedIndex;
        that._model.selectItem(selectedIndex)
    })

    this._view._elements.delBtn.click(function(){
       that.delItems()
    });


   
}

ListController.prototype = {
    addItems: function(){
       var item =  window.prompt('add items', '');  
       this._model.setData(item)
       this._view.show();
    },
    delItems: function(){
       this._view.show();
    }
}



var model = new ListModel(items),
    view = new ListView(model, {
                    'addBtn': $('#plusBtn'),
                    'delBtn': $('#minusBtn'),
                    'list': $('#list')
                }),
    controller = new ListController(model, view)

view.show();


</script>

</body>
</html>